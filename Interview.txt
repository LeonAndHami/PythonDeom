描述Python GIL（全局解释器锁）的概念，以及它对python多线程的影响？编写一个多线程抓取网页
的程序，并阐明多线程抓取程序是否可比单线程性能有提升，解释原因。



参考答案：

1、python语言与GIL没有任何关系，仅仅是由于历史原因在cpython解释器中，难以移除GIL

2、每个线程在执行的过程都需要先获取GIL，保证同一时间只有一个线程可以执行代码。

3、线程释放GIL锁的情况：在IO操作等可能会引起阻塞的系统调用之前，可以暂时释放GIL，但在执行

完毕后，必须重新获取GIL。

4、python使用多进程是可以利用多核的CPU资源的。

5、多线程爬取比单线程性能有提升，因为遇到IO阻塞会自动释放GIL锁。



闭包面试题：请问t等于多少？
def test1(x):
    def test2():
        for i in range(x):
            pass
	return i * x
    return test2

func = test1(5)
t = func()
答：t = 20。因为在for结束的时候，i=4已经被固定在闭包里了